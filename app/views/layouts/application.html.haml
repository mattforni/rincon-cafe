- action = params[:action]
- controller = params[:controller]
- error = !alert.nil?
- page = File.join(controller, action)
- toast = alert || notice

<!DOCTYPE html>
%html
  %head
    %title='Coffee'
    = stylesheet_link_tag controller, media: 'all', 'data-turbolinks-track' => true if asset_exists?(controller, 'css')
    = stylesheet_link_tag page, media: 'all', 'data-turbolinks-track' => true if asset_exists?(page, 'css')
    = javascript_include_tag 'application', 'data-turbolinks-track' => true
    = csrf_meta_tags
  %body
    -if !toast.nil?
      #toast{class: error ? 'error' : ''}
        #message
          = toast
        #dismiss-toast
          X

    #header
      #home
        = link_to image_tag('icons/queue.png', size: '30x30'), root_path
      - if !@title.nil?
        #title=@title
      #logout
        = logout_button
    #content
      = yield

